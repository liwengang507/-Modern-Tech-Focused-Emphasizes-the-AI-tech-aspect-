# A股上市公司年报数据获取系统 (基于BaoStock)

本项目使用BaoStock API获取A股上市公司从2020年1月1日至今的年报数据，并保存到Excel文件中。

## 功能特点

- 获取A股上市公司基本信息
- 获取财务数据（利润表、资产负债表、现金流量表）
- 获取日线交易数据
- 获取行业数据
- 自动筛选A股上市公司数据
- 数据保存为Excel格式，便于分析

## 安装依赖

```bash
pip install -r requirements.txt
```

## 使用方法

### 1. 运行完整版本

```bash
python get_stock_data_baostock.py
```

### 2. 运行快速测试版本

```bash
python quick_get_data_baostock.py
```

### 3. 查看结果

程序会在当前目录生成Excel文件，文件名格式为：`A股上市公司数据_BaoStock_YYYYMMDD_HHMMSS.xlsx`

## 数据说明

生成的Excel文件包含以下工作表：

1. **股票基本信息** - A股股票的基本信息
2. **财务数据** - 利润表、资产负债表、现金流量表数据
3. **日线数据** - 股票日线交易数据
4. **行业数据** - 股票行业分类数据

## BaoStock优势

1. **完全免费** - 无需注册，无需token
2. **数据全面** - 包含股票基本信息、财务数据、日线数据等
3. **接口稳定** - 由证券宝提供，数据质量高
4. **使用简单** - 无需复杂的认证流程

## 注意事项

1. BaoStock是免费的数据接口，无需注册
2. 数据获取需要一定时间，请耐心等待
3. 建议在网络状况良好时运行
4. 程序会自动处理API请求频率限制

## 文件结构

```
├── get_stock_data_baostock.py      # 主程序文件
├── quick_get_data_baostock.py     # 快速测试版本
├── config_baostock.py             # 配置文件
├── requirements.txt               # 依赖包列表
└── README_BaoStock.md             # 说明文档
```

## 技术特点

- 使用面向对象设计，代码结构清晰
- 支持批量数据获取，提高效率
- 自动处理API请求频率限制
- 支持多种数据类型的获取
- 数据保存为Excel格式，便于后续分析

## 数据字段说明

### 日线数据主要字段
- `date`: 交易日期
- `code`: 股票代码
- `open`: 开盘价
- `high`: 最高价
- `low`: 最低价
- `close`: 收盘价
- `volume`: 成交量
- `amount`: 成交额
- `pctChg`: 涨跌幅

### 财务数据主要字段
- `code`: 股票代码
- `pubDate`: 发布日期
- `statDate`: 统计日期
- `data_type`: 数据类型（利润表/资产负债表/现金流量表）

## 常见问题

**Q: BaoStock需要注册吗？**
A: 不需要，BaoStock是完全免费的数据接口。

**Q: 程序运行时间很长怎么办？**
A: 这是正常现象，因为需要获取大量数据。程序会显示进度信息。

**Q: 数据不完整怎么办？**
A: 可能是网络问题，可以重新运行程序。

**Q: 如何修改获取的时间范围？**
A: 修改config_baostock.py中的START_DATE和END_DATE参数。

**Q: 如何获取更多股票数据？**
A: 修改config_baostock.py中的MAX_STOCKS参数。

## 数据来源

- **数据提供商**: 证券宝 (BaoStock)
- **数据范围**: A股市场
- **更新频率**: 实时更新
- **数据质量**: 高质量，经过验证

## 免责声明

本项目仅用于学习和研究目的，不构成投资建议。使用者应当自行承担使用数据的风险。
