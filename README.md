# ğŸš€ Aè‚¡é‡‘èå¹´æŠ¥ChatBIç³»ç»Ÿ - æ™ºèƒ½è‚¡ç¥¨æ•°æ®åˆ†æå¹³å°

<div align="center">

[![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)](https://www.python.org/downloads/)
[![Qwen-Agent](https://img.shields.io/badge/Qwen-Agent-Latest-green.svg)](https://github.com/QwenLM/Qwen-Agent)
[![Gradio](https://img.shields.io/badge/Gradio-Latest-orange.svg)](https://gradio.app/)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![GitHub Stars](https://img.shields.io/github/stars/your-username/stock-chatbi?style=social)](https://github.com/your-username/stock-chatbi)

**ğŸŒŸ åŸºäºå¤§æ¨¡å‹çš„Aè‚¡æ™ºèƒ½åˆ†æå¹³å° ğŸŒŸ**

*å°†å¤æ‚çš„è‚¡ç¥¨æ•°æ®åˆ†æè½¬æ¢ä¸ºç›´è§‚çš„å¯¹è¯äº¤äº’ï¼Œè®©æŠ•èµ„å†³ç­–å˜å¾—åƒèŠå¤©ä¸€æ ·ç®€å•*

[ğŸ¯ å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) â€¢ [âœ¨ æ ¸å¿ƒç‰¹æ€§](#-æ ¸å¿ƒç‰¹æ€§) â€¢ [ğŸ—ï¸ ç³»ç»Ÿæ¶æ„](#ï¸-ç³»ç»Ÿæ¶æ„) â€¢ [ğŸ“– ä½¿ç”¨æŒ‡å—](#-ä½¿ç”¨æŒ‡å—) â€¢ [ğŸ”§ APIæ–‡æ¡£](#-apiæ–‡æ¡£)

</div>

---

## ğŸ¯ é¡¹ç›®æ¦‚è¦

**Aè‚¡é‡‘èå¹´æŠ¥ChatBIç³»ç»Ÿ** æ˜¯ä¸€ä¸ªåŸºäºqwen-agentæ¡†æ¶å¼€å‘çš„æ™ºèƒ½è‚¡ç¥¨æ•°æ®åˆ†æå¹³å°ï¼Œå®ƒæ‰“ç ´äº†ä¼ ç»Ÿé‡‘èåˆ†æçš„æŠ€æœ¯å£å’ã€‚é€šè¿‡å…ˆè¿›çš„å¤§è¯­è¨€æ¨¡å‹å’Œå¤šç§æœºå™¨å­¦ä¹ ç®—æ³•ï¼Œè®©ä»»ä½•äººéƒ½èƒ½ç”¨è‡ªç„¶è¯­è¨€è½»æ¾åˆ†æAè‚¡æ•°æ®ï¼Œæ— éœ€å­¦ä¹ å¤æ‚çš„é‡‘èåˆ†æå·¥å…·ã€‚

æœ¬ç³»ç»Ÿé›†æˆäº†SQLæŸ¥è¯¢ã€æ•°æ®å¯è§†åŒ–ã€çƒ­ç‚¹æ–°é—»æœç´¢ã€ARIMAä»·æ ¼é¢„æµ‹ã€å¸ƒæ—å¸¦å¼‚å¸¸æ£€æµ‹å’ŒProphetå‘¨æœŸæ€§åˆ†æç­‰åŠŸèƒ½ï¼Œä¸ºç”¨æˆ·æä¾›å…¨æ–¹ä½çš„è‚¡ç¥¨æ•°æ®åˆ†æå’ŒæŠ•èµ„å†³ç­–æ”¯æŒã€‚

### ğŸ“¸ æ•ˆæœå±•ç¤º

#### ğŸ” æ™ºèƒ½å¯¹è¯åˆ†æ

<div align="center">

![æ™ºèƒ½å¯¹è¯ç•Œé¢](visualization/image_show/chat_interface.png)

*è‡ªç„¶è¯­è¨€äº¤äº’ï¼Œæ™ºèƒ½ç†è§£ç”¨æˆ·æŸ¥è¯¢æ„å›¾*

</div>

#### ğŸ“Š å¤šç»´åº¦æ•°æ®å¯è§†åŒ–

<div align="center">

![è‚¡ç¥¨å¯¹æ¯”åˆ†æ](visualization/image_show/stock_comparison.png)

*æ”¯æŒå¤šè‚¡ç¥¨å¯¹æ¯”åˆ†æï¼Œç›´è§‚å±•ç¤ºæ•°æ®å…³ç³»*

</div>

#### ğŸ¯ é¢„æµ‹åˆ†æç»“æœ

<div align="center">

![ARIMAé¢„æµ‹ç»“æœ](visualization/image_show/arima_prediction.png)

*åŸºäºARIMAæ¨¡å‹çš„è‚¡ä»·é¢„æµ‹ï¼Œæä¾›æŠ•èµ„å‚è€ƒ*

</div>

### ğŸŒˆ ä¸ºä»€ä¹ˆé€‰æ‹© Aè‚¡é‡‘èå¹´æŠ¥ChatBIç³»ç»Ÿï¼Ÿ

- ğŸ§  **AIé©±åŠ¨**: åŸºäºqwen-agentæ¡†æ¶ï¼Œç†è§£å¤æ‚çš„é‡‘èæŸ¥è¯¢
- âš¡ **å®æ—¶æ•°æ®**: è¿æ¥é˜¿é‡Œäº‘MySQLï¼Œè·å–æœ€æ–°Aè‚¡æ•°æ®
- ğŸ”„ **æ™ºèƒ½åˆ†æ**: é›†æˆå¤šç§æœºå™¨å­¦ä¹ ç®—æ³•ï¼Œæä¾›ä¸“ä¸šåˆ†æ
- ğŸŒ **Webç•Œé¢**: åŸºäºGradioçš„ç°ä»£åŒ–ç”¨æˆ·ç•Œé¢
- ğŸ›¡ï¸ **ä¼ä¸šçº§**: æ”¯æŒå¤šç§åˆ†æå·¥å…·ï¼Œä¿éšœåˆ†æå‡†ç¡®æ€§
- ğŸ“Š **é›¶é—¨æ§›**: è‡ªç„¶è¯­è¨€äº¤äº’ï¼Œæ— éœ€æŠ€æœ¯èƒŒæ™¯

---

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ¨ æ™ºèƒ½åŒ–ç‰¹æ€§

| ç‰¹æ€§ | æè¿° | æŠ€æœ¯äº®ç‚¹ |
|------|------|----------|
| ğŸ§  **æ™ºèƒ½SQLç”Ÿæˆ** | è‡ªåŠ¨å°†è‡ªç„¶è¯­è¨€è½¬æ¢ä¸ºSQLæŸ¥è¯¢ | åŸºäºqwen-agentçš„è¯­ä¹‰ç†è§£ |
| ğŸ” **å¤šç»´åº¦åˆ†æ** | æ”¯æŒä»·æ ¼ã€æ¶¨è·Œå¹…ã€æˆäº¤é‡ç­‰å¤šç»´åº¦åˆ†æ | æ™ºèƒ½æ•°æ®å…³è”å’Œç»Ÿè®¡ |
| ğŸ—£ï¸ **è‡ªç„¶è¯­è¨€æŸ¥è¯¢** | æ”¯æŒå¤æ‚çš„ä¸­æ–‡é‡‘èæŸ¥è¯¢ | å¤šæ¨¡å‹æ”¯æŒ(Qwen/GLM/OpenAI) |
| ğŸ”„ **æ™ºèƒ½å¯è§†åŒ–** | è‡ªåŠ¨é€‰æ‹©æœ€ä½³å›¾è¡¨ç±»å‹å’Œå±•ç¤ºæ–¹å¼ | æ•°æ®é©±åŠ¨ + æ™ºèƒ½ä¼˜åŒ– |
| ğŸ“Š **ç»“æ„åŒ–è¾“å‡º** | Markdownæ ¼å¼çš„æ ‡å‡†åŒ–åˆ†æç»“æœ | ä¸“ä¸šé‡‘èæŠ¥å‘Šæ ¼å¼ |

### âš¡ åˆ†æåŠŸèƒ½ç‰¹æ€§

| åŠŸèƒ½æ¨¡å— | æè¿° | æŠ€æœ¯å®ç° |
|----------|------|----------|
| ğŸš€ **SQLæŸ¥è¯¢åˆ†æ** | çµæ´»çš„æ•°æ®åº“æŸ¥è¯¢å’Œç»Ÿè®¡ | SQLAlchemy + Pandas |
| âš¡ **ARIMAé¢„æµ‹** | åŸºäºæ—¶é—´åºåˆ—çš„è‚¡ä»·é¢„æµ‹ | Statsmodels + ARIMAæ¨¡å‹ |
| ğŸ”„ **å¸ƒæ—å¸¦æ£€æµ‹** | è¶…ä¹°è¶…å–å¼‚å¸¸ç‚¹è¯†åˆ« | æŠ€æœ¯æŒ‡æ ‡è®¡ç®— + å¯è§†åŒ– |
| ğŸ“ˆ **Prophetåˆ†æ** | å‘¨æœŸæ€§è§„å¾‹å’Œè¶‹åŠ¿åˆ†æ | Facebook Prophet |
| ğŸŒ **æ–°é—»æœç´¢** | å®æ—¶è´¢ç»æ–°é—»è·å– | Tavily APIé›†æˆ |

### ğŸ› ï¸ æŠ€æœ¯ç‰¹æ€§

- **ğŸ”§ æ¨¡å—åŒ–è®¾è®¡**: æ¯ä¸ªåŠŸèƒ½ç‹¬ç«‹æ¨¡å—ï¼Œæ˜“äºç»´æŠ¤å’Œæ‰©å±•
- **ğŸ§  æ™ºèƒ½ç¼“å­˜**: å›¾è¡¨ç”Ÿæˆç¼“å­˜ï¼Œæå‡å“åº”é€Ÿåº¦
- **ğŸ“¦ å¤šæ•°æ®æº**: æ”¯æŒMySQLã€CSVç­‰å¤šç§æ•°æ®æº
- **ğŸ”„ å®æ—¶æ›´æ–°**: æ”¯æŒå¢é‡æ•°æ®æ›´æ–°å’Œå®æ—¶åˆ†æ
- **âš¡ å¼‚æ­¥å¤„ç†**: å¤šä»»åŠ¡å¹¶å‘å¤„ç†ï¼Œæå‡ç³»ç»Ÿæ€§èƒ½
- **ğŸ›¡ï¸ é”™è¯¯æ¢å¤**: å®Œå–„çš„å¼‚å¸¸å¤„ç†å’Œè‡ªåŠ¨æ¢å¤æœºåˆ¶

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### ğŸ“‹ æ ¸å¿ƒå·¥ä½œæµ

```mermaid
graph TD
    A[ğŸ“± ç”¨æˆ·æŸ¥è¯¢] --> B[ğŸ§  qwen-agentç†è§£]
    B --> C[ğŸ” å·¥å…·é€‰æ‹©]
    C --> D[ğŸ“Š SQLæŸ¥è¯¢]
    C --> E[ğŸ“ˆ ARIMAé¢„æµ‹]
    C --> F[ğŸ” å¸ƒæ—å¸¦æ£€æµ‹]
    C --> G[ğŸ“Š Prophetåˆ†æ]
    C --> H[ğŸŒ æ–°é—»æœç´¢]
    D --> I[ğŸ“Š æ•°æ®å¯è§†åŒ–]
    E --> I
    F --> I
    G --> I
    H --> J[ğŸ“° æ–°é—»å±•ç¤º]
    I --> K[ğŸ“‹ ç»“æœæ•´åˆ]
    J --> K
    K --> L[ğŸ’¬ æ™ºèƒ½å›å¤]
```

### ğŸ›ï¸ æŠ€æœ¯æ¶æ„

<div align="center">

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ğŸŒ Webç•Œé¢å±‚                              â”‚
â”‚  Gradio WebUI + å®æ—¶äº¤äº’ + å›¾è¡¨å±•ç¤º                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    ğŸ§  AIæ¨ç†å±‚                               â”‚
â”‚  qwen-agentæ¡†æ¶ + å¤šå·¥å…·é›†æˆ + æ™ºèƒ½è·¯ç”±                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    ğŸ” åˆ†æå¼•æ“å±‚                             â”‚
â”‚  ARIMAé¢„æµ‹ + å¸ƒæ—å¸¦æ£€æµ‹ + Prophetåˆ†æ + æŠ€æœ¯æŒ‡æ ‡             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    ğŸ’¾ æ•°æ®å¤„ç†å±‚                             â”‚
â”‚  SQLAlchemy + Pandas + Matplotlib + æ•°æ®æ¸…æ´—                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    ğŸ“Š æ•°æ®æºå±‚                               â”‚
â”‚  é˜¿é‡Œäº‘MySQL + Aè‚¡æ•°æ® + å®æ—¶æ›´æ–°                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

</div>

### ğŸ”§ æ ¸å¿ƒç»„ä»¶

| ç»„ä»¶ | åŠŸèƒ½ | æŠ€æœ¯æ ˆ |
|------|------|--------|
| **ğŸ¯ ExcSQLTool** | SQLæŸ¥è¯¢å’Œæ•°æ®å¯è§†åŒ– | SQLAlchemy + Matplotlib |
| **ğŸ“ˆ ARIMAStockTool** | ARIMAè‚¡ä»·é¢„æµ‹ | Statsmodels + æ—¶é—´åºåˆ—åˆ†æ |
| **ğŸ” BollDetectionTool** | å¸ƒæ—å¸¦å¼‚å¸¸æ£€æµ‹ | æŠ€æœ¯æŒ‡æ ‡è®¡ç®— + å¯è§†åŒ– |
| **ğŸ“Š ProphetAnalysisTool** | å‘¨æœŸæ€§åˆ†æ | Facebook Prophet |
| **ğŸŒ NewsSearchTool** | çƒ­ç‚¹æ–°é—»æœç´¢ | Tavily API |
| **âš¡ å›¾è¡¨ç”Ÿæˆå¼•æ“** | æ™ºèƒ½å›¾è¡¨ç”Ÿæˆ | Matplotlib + æ•°æ®é©±åŠ¨ |

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ğŸ“‹ ç¯å¢ƒè¦æ±‚

- ğŸ **Python**: 3.8+
- ğŸ’¾ **å†…å­˜**: å»ºè®®8GB+
- ğŸ”§ **ç³»ç»Ÿ**: Windows/Linux/macOS
- ğŸŒ **ç½‘ç»œ**: éœ€è¦è®¿é—®é˜¿é‡Œäº‘MySQLå’ŒTavily API

### âš¡ ä¸€é”®å®‰è£…

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/your-username/stock-chatbi.git
cd stock-chatbi

# 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv
# Windows
venv\Scripts\activate
# Linux/Mac
source venv/bin/activate

# 3. å®‰è£…ä¾èµ–
pip install -r requirements.txt

# 4. é…ç½®ç¯å¢ƒ
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„APIå¯†é’¥
```

### ğŸ”‘ ç¯å¢ƒé…ç½®

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼š

```env
# ğŸ¤– å¤§æ¨¡å‹é…ç½®
DASHSCOPE_API_KEY=your_dashscope_api_key_here

# ğŸŒ æ–°é—»æœç´¢é…ç½®
TAVILY_API_KEY=your_tavily_api_key_here

# ğŸ’¾ æ•°æ®åº“é…ç½®
DB_HOST=your_mysql_host
DB_USER=your_mysql_user
DB_PASSWORD=your_mysql_password
DB_NAME=your_database_name
```

### ğŸ¯ å¿«é€Ÿå¯åŠ¨

```bash
# ğŸš€ å¯åŠ¨ç³»ç»Ÿ
python main.py

# ç³»ç»Ÿå°†è‡ªåŠ¨å¯åŠ¨Webç•Œé¢
# ğŸŒ è®¿é—®åœ°å€: http://localhost:7860
```

---

## ğŸ“– ä½¿ç”¨æŒ‡å—

### ğŸŒ Webç•Œé¢æ¨¡å¼ï¼ˆæ¨èï¼‰

#### ğŸš€ å¯åŠ¨ç³»ç»Ÿ

```bash
# å¯åŠ¨å®Œæ•´ç³»ç»Ÿ
python main.py

# ç³»ç»Ÿä¿¡æ¯
# ğŸŒ åœ°å€: http://localhost:7860
# ğŸ“¡ åè®®: HTTP/WebSocket
# ğŸ”§ çŠ¶æ€: è‡ªåŠ¨å¥åº·æ£€æŸ¥
```

#### ğŸ§ª åŠŸèƒ½æµ‹è¯•

```bash
# æµ‹è¯•SQLæŸ¥è¯¢åŠŸèƒ½
"æŸ¥è¯¢é’å²›å•¤é…’(sh.600600)æœ€è¿‘ä¸€å¹´çš„è‚¡ä»·èµ°åŠ¿"

# æµ‹è¯•å¯¹æ¯”åˆ†æ
"å¯¹æ¯”é’å²›å•¤é…’(sh.600600)å’Œæ–¹æ­£ç§‘æŠ€(sh.600601)çš„æ¶¨è·Œå¹…"

# æµ‹è¯•é¢„æµ‹åŠŸèƒ½
"é¢„æµ‹é’å²›å•¤é…’(sh.600600)æœªæ¥5å¤©çš„è‚¡ä»·"

# æµ‹è¯•æŠ€æœ¯åˆ†æ
"æ£€æµ‹é’å²›å•¤é…’(sh.600600)çš„å¸ƒæ—å¸¦å¼‚å¸¸ç‚¹"

# æµ‹è¯•å‘¨æœŸæ€§åˆ†æ
"åˆ†æé’å²›å•¤é…’(sh.600600)çš„å‘¨æœŸæ€§è§„å¾‹"
```

### ğŸ’» APIè°ƒç”¨ç¤ºä¾‹

#### Pythonå®¢æˆ·ç«¯

```python
import requests
import json

def query_stock_data(query: str):
    response = requests.post(
        'http://localhost:7860/api/query',
        json={'query': query}
    )
    result = response.json()
    print(json.dumps(result, ensure_ascii=False, indent=2))

# ğŸ¯ ä½¿ç”¨ç¤ºä¾‹
query_stock_data("æŸ¥è¯¢å¹³å®‰é“¶è¡Œ(sz.000001)çš„è‚¡ä»·èµ°åŠ¿")
```

#### cURLå‘½ä»¤

```bash
# ğŸ“Š æŸ¥è¯¢è‚¡ç¥¨æ•°æ®
curl -X POST http://localhost:7860/api/query \
  -H "Content-Type: application/json" \
  -d '{"query": "æŸ¥è¯¢é’å²›å•¤é…’(sh.600600)çš„è‚¡ä»·èµ°åŠ¿"}'

# ğŸ“ˆ è·å–é¢„æµ‹åˆ†æ
curl -X POST http://localhost:7860/api/query \
  -H "Content-Type: application/json" \
  -d '{"query": "é¢„æµ‹é’å²›å•¤é…’(sh.600600)æœªæ¥5å¤©çš„è‚¡ä»·"}'
```

---

## ğŸ”§ APIæ–‡æ¡£

### ğŸ› ï¸ å·¥å…·åˆ—è¡¨

#### 1. ğŸ“Š exc_sql

**åŠŸèƒ½**: SQLæŸ¥è¯¢å’Œæ•°æ®å¯è§†åŒ–

**å‚æ•°**:
- `sql` (string): SQLæŸ¥è¯¢è¯­å¥
- `need_visualize` (boolean): æ˜¯å¦éœ€è¦ç”Ÿæˆå›¾è¡¨

**è¿”å›ç¤ºä¾‹**:
```json
{
  "query": "SELECT * FROM stock_daily_data WHERE stock_code='sh.600600'",
  "data": "æŸ¥è¯¢ç»“æœæ•°æ®è¡¨æ ¼",
  "chart": "![æ•°æ®å›¾è¡¨](visualization/image_show/chart_xxx.png)",
  "statistics": "æ•°æ®ç»Ÿè®¡æè¿°"
}
```

#### 2. ğŸ“ˆ arima_stock

**åŠŸèƒ½**: ARIMAè‚¡ä»·é¢„æµ‹

**å‚æ•°**:
- `ts_code` (string): è‚¡ç¥¨ä»£ç 
- `n` (integer): é¢„æµ‹å¤©æ•°

**è¿”å›ç¤ºä¾‹**:
```json
{
  "stock_code": "sh.600600",
  "forecast_days": 5,
  "predictions": [
    {"date": "2024-01-01", "price": 67.50, "change": 0.5},
    {"date": "2024-01-02", "price": 68.20, "change": 1.0}
  ],
  "chart": "![é¢„æµ‹å›¾è¡¨](visualization/image_show/arima_xxx.png)"
}
```

#### 3. ğŸ” boll_detection

**åŠŸèƒ½**: å¸ƒæ—å¸¦å¼‚å¸¸æ£€æµ‹

**å‚æ•°**:
- `ts_code` (string): è‚¡ç¥¨ä»£ç 
- `start_date` (string): å¼€å§‹æ—¥æœŸ
- `end_date` (string): ç»“æŸæ—¥æœŸ

**è¿”å›ç¤ºä¾‹**:
```json
{
  "stock_code": "sh.600600",
  "overbought_count": 5,
  "oversold_count": 3,
  "analysis": "å¸ƒæ—å¸¦åˆ†æç»“æœ",
  "chart": "![å¸ƒæ—å¸¦å›¾è¡¨](visualization/image_show/boll_xxx.png)"
}
```

#### 4. ğŸ“Š prophet_analysis

**åŠŸèƒ½**: Prophetå‘¨æœŸæ€§åˆ†æ

**å‚æ•°**:
- `ts_code` (string): è‚¡ç¥¨ä»£ç 
- `start_date` (string): å¼€å§‹æ—¥æœŸ
- `end_date` (string): ç»“æŸæ—¥æœŸ

**è¿”å›ç¤ºä¾‹**:
```json
{
  "stock_code": "sh.600600",
  "trend_analysis": "è¶‹åŠ¿åˆ†æç»“æœ",
  "seasonality": "å‘¨æœŸæ€§åˆ†æ",
  "chart": "![Prophetå›¾è¡¨](visualization/image_show/prophet_xxx.png)"
}
```

#### 5. ğŸŒ news_search

**åŠŸèƒ½**: çƒ­ç‚¹æ–°é—»æœç´¢

**å‚æ•°**:
- `query` (string): æœç´¢å…³é”®è¯

**è¿”å›ç¤ºä¾‹**:
```json
{
  "query": "Aè‚¡çƒ­ç‚¹æ–°é—»",
  "news": [
    {
      "title": "æ–°é—»æ ‡é¢˜",
      "url": "æ–°é—»é“¾æ¥",
      "content": "æ–°é—»æ‘˜è¦"
    }
  ]
}
```

---

## ğŸ“Š é¡¹ç›®ç»“æ„

```
Aè‚¡é‡‘èå¹´æŠ¥ChatBIç³»ç»Ÿ/
â”œâ”€â”€ ğŸš€ æ ¸å¿ƒæ¨¡å—
â”‚   â”œâ”€â”€ main.py                           # ä¸»ç¨‹åºå…¥å£
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â””â”€â”€ stock_query_assistant.py      # æ ¸å¿ƒåŠ©æ‰‹å®ç°
â”‚   â”œâ”€â”€ data_processing/                 # æ•°æ®å¤„ç†æ¨¡å—
â”‚   â”œâ”€â”€ analysis/                        # åˆ†æç®—æ³•æ¨¡å—
â”‚   â”œâ”€â”€ visualization/                  # å¯è§†åŒ–æ¨¡å—
â”‚   â””â”€â”€ tools/                          # å·¥å…·æ¨¡å—
â”œâ”€â”€ ğŸ“ æ•°æ®ç›®å½•
â”‚   â”œâ”€â”€ visualization/
â”‚   â”‚   â””â”€â”€ image_show/                 # å›¾è¡¨å­˜å‚¨ç›®å½•
â”‚   â””â”€â”€ assets/                         # èµ„æºæ–‡ä»¶
â”œâ”€â”€ ğŸ”§ é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ requirements.txt                # ä¾èµ–åŒ…åˆ—è¡¨
â”‚   â””â”€â”€ docs/                          # æ–‡æ¡£ç›®å½•
â”œâ”€â”€ ğŸ“– æ–‡æ¡£
â”‚   â”œâ”€â”€ README.md                       # é¡¹ç›®è¯´æ˜
â”‚   â”œâ”€â”€ é¡¹ç›®ä¿®å¤æ€»ç»“.md                  # ä¿®å¤è®°å½•
â”‚   â””â”€â”€ Aè‚¡é‡‘èå¹´æŠ¥ChatBIç³»ç»Ÿæ–‡æ¡£.md      # å®Œæ•´æ–‡æ¡£
â””â”€â”€ ğŸ§ª æµ‹è¯•è°ƒè¯•
    â””â”€â”€ test_*.py                       # æµ‹è¯•è„šæœ¬
```

---

## ğŸ¨ æŠ€æœ¯æ ˆ

### ğŸ§  AI & æœºå™¨å­¦ä¹ 

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| **ğŸ¦œ qwen-agent** | Latest | AIåŠ©æ‰‹æ¡†æ¶ |
| **ğŸ¤– DashScope** | Latest | å¤§è¯­è¨€æ¨¡å‹API |
| **ğŸ“Š Statsmodels** | Latest | æ—¶é—´åºåˆ—åˆ†æ |
| **ğŸ”® Prophet** | Latest | å‘¨æœŸæ€§åˆ†æ |
| **ğŸ“ˆ ARIMA** | Latest | è‚¡ä»·é¢„æµ‹ |

### ğŸŒ æœåŠ¡æ¡†æ¶

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| **âš¡ Gradio** | Latest | Webç•Œé¢æ¡†æ¶ |
| **ğŸ”Œ SQLAlchemy** | Latest | æ•°æ®åº“ORM |
| **ğŸŒŠ AsyncIO** | - | å¼‚æ­¥ç¼–ç¨‹ |
| **ğŸ”„ Pandas** | Latest | æ•°æ®å¤„ç† |

### ğŸ’¾ æ•°æ®å¤„ç†

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| **ğŸ¼ Pandas** | Latest | æ•°æ®å¤„ç† |
| **ğŸ—„ï¸ MySQL** | - | æ•°æ®å­˜å‚¨ |
| **ğŸ“Š Matplotlib** | Latest | æ•°æ®å¯è§†åŒ– |
| **ğŸ“ˆ NumPy** | Latest | æ•°å€¼è®¡ç®— |

### ğŸ¤– å¤§æ¨¡å‹æ”¯æŒ

| æ¨¡å‹ | æä¾›å•† | ç‰¹ç‚¹ |
|------|--------|------|
| **ğŸ§  Qwen-Turbo** | é˜¿é‡Œäº‘ | ä¸­æ–‡ä¼˜åŒ–ï¼Œå“åº”å¿«é€Ÿ |
| **ğŸ¤– GLM-4** | æ™ºè°±AI | æ¨ç†èƒ½åŠ›å¼ºï¼Œç”Ÿæ€å®Œå–„ |
| **ğŸ”® GPT-4** | OpenAI | é€šç”¨èƒ½åŠ›å¼ºï¼Œç²¾åº¦é«˜ |

---

## ğŸš€ æ€§èƒ½ä¼˜åŒ–

### ğŸ“ˆ ä¼˜åŒ–ç­–ç•¥

#### ğŸ§  æ¨¡å‹ä¼˜åŒ–
- **æ‡’åŠ è½½æœºåˆ¶**: æ¨¡å‹æŒ‰éœ€åŠ è½½ï¼Œé¿å…å¯åŠ¨æ—¶å…¨é‡åˆå§‹åŒ–
- **ç¼“å­˜æœºåˆ¶**: å›¾è¡¨ç”Ÿæˆç»“æœç¼“å­˜ï¼Œæå‡å“åº”é€Ÿåº¦
- **å¼‚æ­¥å¤„ç†**: å¤šä»»åŠ¡å¹¶å‘å¤„ç†ï¼Œæå‡ç³»ç»Ÿæ€§èƒ½

#### ğŸ’¾ æ•°æ®å¤„ç†ä¼˜åŒ–
- **æ™ºèƒ½ç¼“å­˜**: æŸ¥è¯¢ç»“æœç¼“å­˜ï¼Œå‡å°‘é‡å¤è®¡ç®—
- **å¢é‡æ›´æ–°**: æ”¯æŒæ•°æ®å¢é‡æ›´æ–°å’Œå®æ—¶åˆ†æ
- **æ‰¹é‡å¤„ç†**: æ‰¹é‡æ•°æ®å¤„ç†ï¼Œæå‡æ•ˆç‡

#### âš¡ å¯è§†åŒ–ä¼˜åŒ–
- **å›¾è¡¨ç¼“å­˜**: ç”Ÿæˆçš„å›¾è¡¨è‡ªåŠ¨ç¼“å­˜
- **æ™ºèƒ½é€‰æ‹©**: æ ¹æ®æ•°æ®ç‰¹å¾é€‰æ‹©æœ€ä½³å›¾è¡¨ç±»å‹
- **å¼‚æ­¥ç”Ÿæˆ**: å›¾è¡¨å¼‚æ­¥ç”Ÿæˆï¼Œä¸é˜»å¡ä¸»æµç¨‹

### ğŸ“Š æ€§èƒ½åŸºå‡†

| åœºæ™¯ | å“åº”æ—¶é—´ | ä¼˜åŒ–æ•ˆæœ |
|------|----------|----------|
| ğŸš€ **SQLæŸ¥è¯¢** | 2-5ç§’ | å¿«é€Ÿå“åº” |
| âš¡ **å›¾è¡¨ç”Ÿæˆ** | 3-8ç§’ | æ™ºèƒ½ä¼˜åŒ– |
| ğŸ”„ **é¢„æµ‹åˆ†æ** | 10-20ç§’ | æ·±åº¦åˆ†æ |
| ğŸ’¾ **æ–°é—»æœç´¢** | 5-10ç§’ | å®æ—¶è·å– |

---

## ğŸ›¡ï¸ æ•°æ®å®‰å…¨

### ğŸ”’ éšç§ä¿æŠ¤

- **ğŸ“ æœ¬åœ°å¤„ç†**: æ‰€æœ‰åˆ†æåœ¨æœ¬åœ°å¤„ç†ï¼Œæ•°æ®ä¸ä¸Šä¼ äº‘ç«¯
- **ğŸ”‘ å¯†é’¥å®‰å…¨**: APIå¯†é’¥é€šè¿‡ç¯å¢ƒå˜é‡ç®¡ç†
- **ğŸš« Gitå¿½ç•¥**: æ•æ„Ÿæ–‡ä»¶è‡ªåŠ¨æ’é™¤ç‰ˆæœ¬æ§åˆ¶
- **ğŸ›¡ï¸ è®¿é—®æ§åˆ¶**: æ”¯æŒæœ¬åœ°ç½‘ç»œè®¿é—®é™åˆ¶

### ğŸ“‹ å¿½ç•¥æ–‡ä»¶åˆ—è¡¨

```gitignore
# ğŸ”’ æ•æ„Ÿé…ç½®
.env
*.db

# ğŸ“ ç”¨æˆ·æ•°æ®
visualization/
cache/

# ğŸ§  AIæ¨¡å‹ç¼“å­˜
__pycache__/
venv/
*.pyc
```

---

## ğŸ”§ å¼€å‘æŒ‡å—

### ğŸ—ï¸ æ¶æ„è®¾è®¡åŸåˆ™

1. **ğŸ”„ æ¨¡å—åŒ–**: æ¯ä¸ªåŠŸèƒ½ç‹¬ç«‹æ¨¡å—ï¼Œæ˜“äºç»´æŠ¤
2. **ğŸ”Œ æ¾è€¦åˆ**: ç»„ä»¶é—´é€šè¿‡æ¥å£äº¤äº’
3. **ğŸ“ˆ å¯æ‰©å±•**: æ”¯æŒæ–°åˆ†æç®—æ³•å’Œæ•°æ®æº
4. **ğŸ›¡ï¸ å®¹é”™æ€§**: å®Œå–„çš„å¼‚å¸¸å¤„ç†æœºåˆ¶
5. **âš¡ é«˜æ€§èƒ½**: å¤šå±‚ä¼˜åŒ–ç­–ç•¥

### ğŸ†• æ·»åŠ æ–°åˆ†æå·¥å…·

```python
# åœ¨core/stock_query_assistant.pyä¸­æ·»åŠ æ–°å·¥å…·
@register_tool('your_analysis_tool')
class YourAnalysisTool(BaseTool):
    """
    ä½ çš„åˆ†æå·¥å…·æè¿°
    """
    def call(self, params: str, **kwargs) -> str:
        # å®ç°ä½ çš„åˆ†æé€»è¾‘
        return analysis_result
```

### ğŸ§ª æµ‹è¯•æ¡†æ¶

```bash
# è¿è¡ŒåŠŸèƒ½æµ‹è¯•
python test_stock_assistant.py

# è¿è¡Œæ€§èƒ½æµ‹è¯•
python test_performance.py

# è¿è¡Œé›†æˆæµ‹è¯•
python test_integration.py
```

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

### ğŸ¯ è´¡çŒ®æ–¹å¼

1. **ğŸ› æŠ¥å‘ŠBug**: é€šè¿‡IssuesæŠ¥å‘Šé—®é¢˜
2. **ğŸ’¡ åŠŸèƒ½å»ºè®®**: æå‡ºæ–°åŠŸèƒ½æƒ³æ³•
3. **ğŸ“ æ–‡æ¡£æ”¹è¿›**: å®Œå–„é¡¹ç›®æ–‡æ¡£
4. **ğŸ”§ ä»£ç è´¡çŒ®**: æäº¤Pull Request

### ğŸ“‹ å¼€å‘æµç¨‹

```bash
# 1. Forké¡¹ç›®
git fork https://github.com/your-username/stock-chatbi.git

# 2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
git checkout -b feature/your-feature

# 3. æäº¤æ›´æ”¹
git commit -m "feat: add your feature"

# 4. æ¨é€åˆ†æ”¯
git push origin feature/your-feature

# 5. åˆ›å»ºPull Request
```

### ğŸ“ ä»£ç è§„èŒƒ

- **ğŸ Python**: éµå¾ªPEP 8è§„èŒƒ
- **ğŸ“– æ³¨é‡Š**: ä½¿ç”¨ä¸­æ–‡æ³¨é‡Š
- **ğŸ§ª æµ‹è¯•**: æ–°åŠŸèƒ½éœ€è¦å•å…ƒæµ‹è¯•
- **ğŸ“š æ–‡æ¡£**: æ›´æ–°ç›¸å…³æ–‡æ¡£

---

## ğŸ‰ è‡´è°¢

### ğŸ™ å¼€æºé¡¹ç›®

- **ğŸ¦œ qwen-agent**: å¼ºå¤§çš„AIåŠ©æ‰‹æ¡†æ¶
- **âš¡ Gradio**: é«˜æ•ˆçš„Webç•Œé¢æ¡†æ¶
- **ğŸ“Š Matplotlib**: ä¸“ä¸šçš„æ•°æ®å¯è§†åŒ–åº“
- **ğŸ¤— Statsmodels**: ä¸°å¯Œçš„ç»Ÿè®¡åˆ†æå·¥å…·
- **ğŸ¼ Pandas**: æ•°æ®å¤„ç†çš„ç‘å£«å†›åˆ€

### ğŸŒŸ ç‰¹åˆ«æ„Ÿè°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºå¼€æºç¤¾åŒºåšå‡ºè´¡çŒ®çš„å¼€å‘è€…ä»¬ï¼

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](LICENSE) å¼€æºåè®®ã€‚

---

<div align="center">

### ğŸŒŸ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ªStarï¼ ğŸŒŸ

[![GitHub Stars](https://img.shields.io/github/stars/your-username/stock-chatbi?style=social&label=Star)](https://github.com/your-username/stock-chatbi)
[![GitHub Forks](https://img.shields.io/github/forks/your-username/stock-chatbi?style=social&label=Fork)](https://github.com/your-username/stock-chatbi)
[![GitHub Watchers](https://img.shields.io/github/watchers/your-username/stock-chatbi?style=social&label=Watch)](https://github.com/your-username/stock-chatbi)

**è®©Aè‚¡æ•°æ®åˆ†æå˜å¾—åƒèŠå¤©ä¸€æ ·ç®€å•ï¼**

[ğŸ  é¦–é¡µ](https://github.com/your-username/stock-chatbi) â€¢ [ğŸ“– æ–‡æ¡£](https://github.com/your-username/stock-chatbi/wiki) â€¢ [ğŸ› é—®é¢˜åé¦ˆ](https://github.com/your-username/stock-chatbi/issues) â€¢ [ğŸ’¬ ç¤¾åŒºè®¨è®º](https://github.com/your-username/stock-chatbi/discussions)

</div>

---

## ğŸ”— ç›¸å…³é“¾æ¥

- **ğŸ“š é¡¹ç›®æ–‡æ¡£**: [Wiki](https://github.com/your-username/stock-chatbi/wiki)
- **ğŸ’¬ ç¤¾åŒºè®¨è®º**: [Discussions](https://github.com/your-username/stock-chatbi/discussions)
- **ğŸ“§ è”ç³»æˆ‘ä»¬**: [Email](mailto:your-email@example.com)

---

<div align="center">

**ğŸš€ Aè‚¡é‡‘èå¹´æŠ¥ChatBIç³»ç»Ÿ - è®©AIä¸ºä½ çš„æŠ•èµ„èµ‹èƒ½ï¼ ğŸš€**

*Built with â¤ï¸ by the Stock Analysis Team*

</div>
